(this["webpackJsonpstudy-groups-frontend"]=this["webpackJsonpstudy-groups-frontend"]||[]).push([[0],{117:function(e,t,a){},121:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(27),c=a.n(l),o=a(1),s=(a(56),a(4)),m=a(5),u=a(7),i=a(6),d=a(3),p=a(21),b=r.a.createContext();b.displayName="UserContext";var E=b,f=function(){return r.a.createElement(E.Consumer,null,(function(e){return r.a.createElement("div",{className:"d-flex flex-column flex-md-row align-items-center p-3 px-md-4  bg-white border-bottom shadow-sm"},r.a.createElement("h5",{className:"my-0 mr-md-auto font-weight-normal"},e?r.a.createElement(o.b,{className:"btn btn-outline-info",to:"/me"},"Welcome, ".concat(e.name)):r.a.createElement(o.b,{className:"p-2 text-dark",to:"/"},"UTS Study Groups")),r.a.createElement("nav",{className:"my-2 my-md-0 mr-md-3"},r.a.createElement(o.c,{className:"p-2 text-dark",to:"/courses"},"Courses"),r.a.createElement(o.c,{className:"p-2 text-dark",to:"/"},"Tools"),r.a.createElement(o.c,{className:"p-2 text-dark",to:"/"},"Support")),e?r.a.createElement(o.c,{className:"btn btn-outline-primary",to:"/logout"},"Logout"):r.a.createElement(o.c,{className:"btn btn-outline-primary",to:"/login"},"Login"))}))},h=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center"},r.a.createElement("h1",{className:"display-3"},"Study Groups"),r.a.createElement("p",{className:"lead"},"~ When I die, I want the people I did group projects with to lower me so they can let me down one last time ~"))}}]),a}(n.Component),g=(a(73),function(e){var t=e.attributes,a=t.id,n=t.colour;return r.a.createElement("rect",{className:"rect",id:a,x:"0",y:"0",width:"40",height:"40",rx:"2",ry:"2",fill:n})}),v=function(){return r.a.createElement("div",{className:"login-body text-center"},r.a.createElement("svg",{id:"loading",viewBox:"0 0 200 200"},r.a.createElement("g",{transform:"translate(100 0) scale(1 1) rotate(45 0 0)"},[{id:"rect1",colour:"#FEC1DB"},{id:"rect2",colour:"#F95064"},{id:"rect3",colour:"#F9C47A"},{id:"rect4",colour:"#8DEF74"},{id:"rect5",colour:"#8CD1E2"},{id:"rect6",colour:"teal"},{id:"rect7",colour:"gold"}].map((function(e){return r.a.createElement(g,{key:e.id,attributes:e})})))),r.a.createElement("h3",{className:"display-5"},"Set your preferences and get allocated with students on the same page as you."))},y=a(8),N=a.n(y),w=a(13),x=a(50),k=a(22),j=a.n(k),O=(a(75),a(49)),C=a(16),S=a.n(C);S.a.defaults.baseURL="https://quiet-wildwood-54345.herokuapp.com/api",S.a.interceptors.response.use(function(){var e=Object(w.a)(N.a.mark((function e(t){var a,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 500,e.next=3,Promise.all([t,new Promise((function(e){return setTimeout(e,500)}))]);case 3:return a=e.sent,n=Object(O.a)(a,1),r=n[0],e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.log(e),p.toast.error("Unexpected error occured")),Promise.reject(e)}));var P={get:S.a.get,post:S.a.post,put:S.a.put,delete:S.a.delete,setJwt:function(e){S.a.defaults.headers.common["x-auth-token"]=e}},G=a(47),T=a.n(G);function H(){return(H=Object(w.a)(N.a.mark((function e(t,a){var n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.post("/auth",{email:t,password:a});case 2:n=e.sent,r=n.data,localStorage.setItem("token",r);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function D(){return localStorage.getItem("token")}P.setJwt(D());var F={login:function(e,t){return H.apply(this,arguments)},logout:function(){localStorage.removeItem("token")},getCurrentUser:function(){try{var e=localStorage.getItem("token");return T()(e)}catch(t){return null}},getJwt:D},A=a(15),I=a(48),M=a.n(I);var U=function(e){return Object(A.usePromiseTracker)().promiseInProgress&&r.a.createElement("div",null,r.a.createElement(M.a,{type:"ThreeDots",color:"#0275d8",height:"100",width:"100"}))},R=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={data:{email:"",password:""},logging:!1},e.changeHandler=function(t){var a=t.currentTarget,n=Object(x.a)({},e.state.data);n[a.name]=a.value,e.setState({data:n})},e.submitHandler=function(){var t=Object(w.a)(N.a.mark((function t(a){var n;return N.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),e.setState({logging:!0}),t.prev=2,n=e.state.data,t.next=6,Object(A.trackPromise)(F.login(n.email,n.password));case 6:window.location="/me",t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),t.t0.response&&400===t.t0.response.status&&console.log(t.t0.response.data),e.setState({logging:!1});case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(e){return t.apply(this,arguments)}}(),e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"login-body text-center d-flex justify-content-center"},!this.state.logging&&r.a.createElement("form",{className:"form-sign-in"},r.a.createElement("img",{className:"mb-4",src:j.a,alt:"",width:"72",height:"115"}),r.a.createElement("h1",{className:"h3 mb-3 font-weight-normal"},"Please sign in"),r.a.createElement("label",{htmlFor:"inputEmail",className:"sr-only"},"Email address"),r.a.createElement("input",{type:"email",id:"inputEmail",className:"form-control",name:"email",placeholder:"Email address",onChange:this.changeHandler,required:!0,autoFocus:!0}),r.a.createElement("label",{htmlFor:"inputPassword",className:"sr-only"},"Password"),r.a.createElement("input",{type:"password",id:"inputPassword",className:"form-control",name:"password",placeholder:"Password",onChange:this.changeHandler,required:!0}),r.a.createElement("div",{className:"checkbox mb-3"},r.a.createElement("label",null,r.a.createElement("input",{type:"checkbox",value:"remember-me"})," Remember me")),r.a.createElement("button",{className:"btn btn-lg btn-primary btn-block",onClick:this.submitHandler},"Sign in"),r.a.createElement("p",{className:"mt-5 mb-3 text-muted"},"\xa9 2020")),r.a.createElement(U,null))}}]),a}(n.Component),B=function(){return r.a.createElement("div",{className:"login-body text-center"},r.a.createElement("h1",null,"Page not found!"))};var J=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={courses:[]},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(w.a)(N.a.mark((function e(){var t,a;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.trackPromise)(P.get("/courses"));case 2:t=e.sent,a=t.data,this.setState({courses:a});case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",{className:"login-body text-center"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Course"),r.a.createElement("th",{scope:"col"},"Offered By"))),r.a.createElement("tbody",null,this.state.courses.map((function(e,t){return r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,e.title),r.a.createElement("td",null,e.faculty.title))})))),r.a.createElement(U,null))}}]),a}(n.Component),W=function(){return r.a.createElement("footer",{className:"pt-4 my-md-5 pt-md-5 border-top"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-12 col-md"},r.a.createElement("img",{className:"mb-2",src:j.a,alt:"",width:"24",height:"38"}),r.a.createElement("small",{className:"d-block mb-3 text-muted"},"\xa9 2020")),r.a.createElement("div",{className:"col-6 col-md"},r.a.createElement("h5",null,"Features"),r.a.createElement("ul",{className:"list-unstyled text-small"},r.a.createElement("li",null,r.a.createElement(o.b,{className:"text-muted",to:"/"},"Cool stuff")),r.a.createElement("li",null,r.a.createElement(o.b,{className:"text-muted",to:"/"},"Random feature")),r.a.createElement("li",null,r.a.createElement(o.b,{className:"text-muted",to:"/"},"Team feature")),r.a.createElement("li",null,r.a.createElement(o.b,{className:"text-muted",to:"/"},"Stuff for users")))),r.a.createElement("div",{className:"col-6 col-md"},r.a.createElement("h5",null,"Resources"),r.a.createElement("ul",{className:"list-unstyled text-small"},r.a.createElement("li",null,r.a.createElement(o.b,{className:"text-muted",to:"/"},"Quick Guide")),r.a.createElement("li",null,r.a.createElement(o.b,{className:"text-muted",to:"/"},"User Manual")),r.a.createElement("li",null,r.a.createElement(o.b,{className:"text-muted",to:"/"},"Additional Support")))),r.a.createElement("div",{className:"col-6 col-md"},r.a.createElement("h5",null,"About"),r.a.createElement("ul",{className:"list-unstyled text-small"},r.a.createElement("li",null,r.a.createElement(o.b,{className:"text-muted",to:"/"},"Team")),r.a.createElement("li",null,r.a.createElement(o.b,{className:"text-muted",to:"/"},"Locations")),r.a.createElement("li",null,r.a.createElement(o.b,{className:"text-muted",to:"/"},"Privacy")),r.a.createElement("li",null,r.a.createElement(o.b,{className:"text-muted",to:"/"},"Terms"))))))},L=function(){return r.a.createElement("main",{className:"container"},r.a.createElement(h,null),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/courses",component:J}),r.a.createElement(d.b,{path:"/login",component:R}),r.a.createElement(d.b,{exact:!0,path:"/",component:v}),r.a.createElement(d.b,{path:"/not-found",component:B}),r.a.createElement(d.a,{to:"/not-found"})),r.a.createElement(W,null))};var _=function(){return r.a.createElement("nav",{id:"sidebarMenu",className:"col-md-3 col-lg-2 d-md-block bg-light sidebar collapse",style:{minHeight:"90vh"}},r.a.createElement("div",{className:"sidebar-sticky pt-3"},r.a.createElement("ul",{className:"nav flex-column"},r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.c,{className:"nav-link active",to:"/me"},r.a.createElement("span",{"data-feather":"home"}),"My Details ",r.a.createElement("span",{className:"sr-only"},"(current)"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.c,{className:"nav-link",to:"/me/groups"},r.a.createElement("span",{"data-feather":"file"}),"Groups")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.c,{className:"nav-link",to:"/me/page3"},r.a.createElement("span",{"data-feather":"shopping-cart"}),"Page3")),r.a.createElement("li",{className:"nav-item"},r.a.createElement(o.c,{className:"nav-link",to:"/me/page4"},r.a.createElement("span",{"data-feather":"users"}),"Page4")))))},q=(a(20),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(E.Consumer,null,(function(e){return r.a.createElement("main",{role:"main",className:"slide-left col-md-9 ml-sm-auto col-lg-10 px-md-4 "},r.a.createElement("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},r.a.createElement("h1",{className:"h2"},"My Details"),r.a.createElement("div",{className:"btn-toolbar mb-2 mb-md-0"},r.a.createElement("div",{className:"btn-group mr-2"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary"},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-success"},"Save")))),r.a.createElement("div",null,"Name: ",e.name,", Email: ",e.email))}))}}]),a}(n.Component));function Q(){return P.post("".concat("/groups","/new"))}function $(){return P.delete("/groups")}var z=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e.createGroupHandler=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Q();case 2:window.location="/me/groups";case 3:case"end":return e.stop()}}),e)}))),e.resetGroupHandler=Object(w.a)(N.a.mark((function e(){return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$();case 2:window.location="/me/groups";case 3:case"end":return e.stop()}}),e)}))),e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(w.a)(N.a.mark((function e(){var t,a,n,r;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(A.trackPromise)(P.get("/groups"));case 2:return t=e.sent,a=t.data,e.next=6,P.get("/students");case 6:n=e.sent,r=n.data,this.setState({groups:a,students:r});case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,a=t.groups,n=t.students;return r.a.createElement(E.Consumer,null,(function(t){return r.a.createElement("main",{role:"main",className:"slide-left col-md-9 ml-sm-auto col-lg-10 px-md-4 "},r.a.createElement("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},r.a.createElement("h1",{className:"h2"},"Groups"),r.a.createElement("div",{className:"btn-toolbar mb-2 mb-md-0"},r.a.createElement("div",{className:"btn-group mr-2"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary"},"Edit"),a&&a.length?r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:e.createGroupHandler},"Re-assign Groups"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-danger",onClick:e.resetGroupHandler},"Reset")):r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-success",onClick:e.createGroupHandler},"Create Groups")))),a&&a.length?r.a.createElement("div",{className:"alert alert-success",role:"alert"},"Groups are assigned!"):r.a.createElement("div",{className:"alert alert-warning",role:"alert"},"Groups are not assigned!"),r.a.createElement("div",{className:"table-responsive d-flex flex-wrap justify-content-center"},a&&a.length?a.map((function(e){return r.a.createElement("div",{className:"login-body m-2",style:{width:"48%"},key:e._id},r.a.createElement("div",{className:"alert alert-info",role:"alert"},r.a.createElement("h5",{style:{display:"inline"}},r.a.createElement("span",{className:"badge badge-pill badge-light"},e.name)," "),e.topic),r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Students"),r.a.createElement("th",{scope:"col"},"Skills"),r.a.createElement("th",{scope:"col"},"Tools"))),r.a.createElement("tbody",null,e.students.map((function(e,t){return r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.skills),r.a.createElement("td",null,e.tools))})))))})):n&&r.a.createElement("table",{className:"table"},r.a.createElement("thead",{className:"thead-dark"},r.a.createElement("tr",null,r.a.createElement("th",{scope:"col"},"#"),r.a.createElement("th",{scope:"col"},"Students"),r.a.createElement("th",{scope:"col"},"Preferred Topic"),r.a.createElement("th",{scope:"col"},"Skills"),r.a.createElement("th",{scope:"col"},"Tools"))),r.a.createElement("tbody",null,n.map((function(e,t){return r.a.createElement("tr",{key:e._id},r.a.createElement("th",{scope:"row"},t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.topic),r.a.createElement("td",null,e.skills),r.a.createElement("td",null,e.tools))})))),r.a.createElement(U,null)))}))}}]),a}(n.Component),K=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(E.Consumer,null,(function(e){return r.a.createElement("main",{role:"main",className:"slide-left col-md-9 ml-sm-auto col-lg-10 px-md-4 "},r.a.createElement("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},r.a.createElement("h1",{className:"h2"},"Page 3"),r.a.createElement("div",{className:"btn-toolbar mb-2 mb-md-0"},r.a.createElement("div",{className:"btn-group mr-2"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary"},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-success"},"Save")))),r.a.createElement("div",null,"Page 3 content for ",e.name))}))}}]),a}(n.Component),V=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(E.Consumer,null,(function(e){return r.a.createElement("main",{role:"main",className:"slide-left col-md-9 ml-sm-auto col-lg-10 px-md-4 "},r.a.createElement("div",{className:"d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom"},r.a.createElement("h1",{className:"h2"},"Page 4"),r.a.createElement("div",{className:"btn-toolbar mb-2 mb-md-0"},r.a.createElement("div",{className:"btn-group mr-2"},r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-secondary"},"Edit"),r.a.createElement("button",{type:"button",className:"btn btn-sm btn-outline-success"},"Save")))),r.a.createElement("div",null,"Page 4 content for ",e.name))}))}}]),a}(n.Component),X=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement(_,null),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/me/groups",component:z}),r.a.createElement(d.b,{path:"/me/page3",component:K}),r.a.createElement(d.b,{path:"/me/page4",component:V}),r.a.createElement(d.b,{path:"/me",component:q}))))}}]),a}(n.Component),Y=function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"componentDidMount",value:function(){F.logout(),window.location="/"}},{key:"render",value:function(){return null}}]),a}(n.Component),Z=(a(117),a(118),a(119),a(120),function(e){Object(u.a)(a,e);var t=Object(i.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(m.a)(a,[{key:"componentWillMount",value:function(){var e=F.getCurrentUser();this.setState({user:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.ToastContainer,null),r.a.createElement(E.Provider,{value:this.state.user},r.a.createElement(f,null),r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/me",render:function(t){return e.state.user?r.a.createElement(X,t):r.a.createElement(d.a,{to:"/login"})}}),r.a.createElement(d.b,{path:"/logout",component:Y}),r.a.createElement(d.b,{path:"/",component:L}))))}}]),a}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(o.a,null,r.a.createElement(r.a.StrictMode,null,r.a.createElement(Z,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},20:function(e,t,a){},22:function(e,t,a){e.exports=a.p+"static/media/logo.a550d937.png"},51:function(e,t,a){e.exports=a(121)},56:function(e,t,a){},73:function(e,t,a){},75:function(e,t,a){}},[[51,1,2]]]);
//# sourceMappingURL=main.3a244402.chunk.js.map